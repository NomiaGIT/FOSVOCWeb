<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

<ui:composition template="/templates/default/main.xhtml">
	<ui:define name="content">
		<!-- Contenido del template -->

		<p:growl id="growl" showDetail="true" life="3000" redisplay="false" />
		<!-- para un formulario -->
		<div class="container">
		
			<div class="row">
				<div class="col-lg-12">
					<h2 class="page-header">Usuario</h2>
				</div>
				<!-- /.col-lg-12 -->
			</div>
			
			<div class="row">
			<h:panelGroup rendered="#{sessionScope.tipoUsuario != null }">
				<div class="col-lg-12">
					<div class="panel panel-default">
						<div class="panel-heading">
							<h3 class="center-block">Modificacion de datos del Usuario</h3>
						</div>
						<div class="panel-body">
							<div class="row">
								<div class="col-lg-3"></div>
								<!-- Para centrar el formulario-->
								<div class="col-lg-6">
									<h:form id="enableForm" role="form">
										<fieldset>
											<div class="form-group">
												<label>Nombre</label>
												<h:inputText class="form-control" pt:placeholder="Nombre"
													name="Nombre" value="#{usuarioBean.nombre}" id="name"
													requiredMessage="Por favor ingrese un nombre."></h:inputText>
											</div>

											<div class="form-group">
												<label>Apellido</label>
												<h:inputText class="form-control" pt:placeholder="Apellido"
													name="Apellido" value="#{usuarioBean.apellido}" id="sname"
													requiredMessage="Por favor ingrese un apellido">
												</h:inputText>
											</div>
											<div class="form-group">
												<label>Email</label>
												<!-- <h:inputText class="form-control" pt:placeholder="Email"
													name="Email" value="#{usuarioBean.email}">
												</h:inputText> -->
												<h:inputText class="form-control" id="email" pt:placeholder="Email" label="email"
												    name="Email"
													requiredMessage="Por favor ingrese una dirección de mail válida."
													validatorMessage="El formato del email no es válido"
													value="#{usuarioBean.email}">
													<f:validateRegex
														pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
												</h:inputText>
											</div>

											<div class="form-group">
												<label>Usuario/Documento</label>
												<h:inputText class="form-control" pt:placeholder="Nick"
													name="usuario" value="#{usuarioBean.usuario}" readonly="true"></h:inputText>
											</div>

											<div>
												<h:message for="name" name="msgc" id="Msgname2"
													styleClass="btn-sm btn-danger btn-block"></h:message>
											</div>
											<div>
												<h:message for="sname" name="msgc" id="Msgsname"
													styleClass="btn-sm btn-danger btn-block"></h:message>
											</div>


											<div class="form-group">
												<div class="col-lg-6">
													<h:commandButton class="btn btn-lg btn-success btn-block"
														type="submit" action="#{usuarioBean.modificar()}"
														value="Aceptar">
													</h:commandButton>
												</div>
												<div class="col-lg-6">
													<h:commandButton name="salir" value="Cancelar"
														class="btn btn-primary btn-block"
														action="#{usuarioBean.cancelarModificarPassword()}"
														ajax="true" immediate="true" process="@form" update="msg"
														onclick="funcion()" oncomplete="dialog.show()"></h:commandButton>
												</div>
											</div>

										</fieldset>
									</h:form>
								</div>
								<div class="col-lg-3"></div>
								<!-- Para centrar el formulario -->


							</div>

						</div>
					</div>
				</div>
				</h:panelGroup>
			</div>
			 <div>
				<h:panelGroup
							rendered="#{sessionScope.tipoUsuario == null }">
							<p>Ha ocurrido un error. Por favor ingrese nuevamente sus datos.
						
														<h:outputLink value="Login.xhtml"
															rendered="#{sessionScope.tipoUsuario == null }">
															<h:outputText value="  Ir al inicio  " />
														</h:outputLink>
														
													</p>
				</h:panelGroup>
				</div>
		</div>


	</ui:define>
</ui:composition>

</html>

